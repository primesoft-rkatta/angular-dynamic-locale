(function(){var dl;dl=angular.module("dynamic.locale",["ng"]),dl.filter("dlCurrency",["$filter","dlProvider",function(a,b){return b.loadCurrencyFilters(),function(c,d,e){var f,g;null==d&&(d="en-us");try{g=b.currencyFilters[d](c,e)}catch(h){f=h,g=a("currency")(c,e)}return g}}]),dl.filter("dlDate",["$filter","dlProvider",function(a,b){return b.loadDateFilters(),function(c,d,e){var f,g;null==d&&(d="en-us");try{g=b.dateFilters[d](c,e)}catch(h){f=h,g=a("date")(c,e)}return g}}]),dl.provider("dlProvider",function(){var currencyMap,getFileName,getModuleName,locales,ngLocaleMap;return ngLocaleMap={},locales=["en-us"],currencyMap={USD:"en-us"},getFileName=function(a){return"/i18n/angular-locale_"+a+".js"},getModuleName=function(a){return"dynamic.locale."+a},this.setLocales=function(a){return a=a},this.setCurrencyMap=function(a){return currencyMap=a},this.$get=["$http","$q",function($http,$q){return{currencyFilters:{},dateFilters:{},loadLocales:function(callback){var promises;return promises=[],angular.forEach(locales,function(a){return function(b){return promises.push(a.loadLocale(b))}}(this)),$q.all(promises).then(function(_this){return function(values){return angular.forEach(ngLocaleMap,function(ngLocale,locale){return eval(ngLocale),_this.addLocale(locale,angular.module("ngLocale"))}),callback.apply()}}(this))},loadLocale:function(a){var b;return b=getFileName(a),$http.get(b).success(function(b){return ngLocaleMap[a]=b}).error(function(a,c){throw Error(""+c+": Failed to load "+b+".")})},addLocale:function(a,b){var c;return c=angular.module(getModuleName(a),[]),c._invokeQueue.push(b._invokeQueue[0])},loadCurrencyFilters:function(){return angular.forEach(locales,function(a){return function(b){return a.currencyFilters[b]=angular.injector(["ng",getModuleName(b)]).get("$filter")("currency")}}(this))},loadDateFilters:function(){return angular.forEach(locales,function(a){return function(b){return a.dateFilters[b]=angular.injector(["ng",getModuleName(b)]).get("$filter")("date")}}(this))}}}],this})}).call(this);